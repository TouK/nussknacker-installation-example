## To customize Nu Designer configuration see https://nussknacker.io/documentation/docs/installation_configuration_guide/Common/

scenarioTypes {
  "streaming" {
    # customize Flink streaming scenario type
    # see: https://nussknacker.io/documentation/docs/next/installation_configuration_guide/Common/#configuration-file
  }
  "streaming-lite-embedded" {
    # customize Lite streaming scenario type
    # see: https://nussknacker.io/documentation/docs/next/installation_configuration_guide/Common/#configuration-file
  }
  "request-response-embedded": {
    # customize Lite request-response scenario type
    # see: https://nussknacker.io/documentation/docs/next/installation_configuration_guide/Common/#configuration-file
  }
  batch {
    deploymentConfig: {
      type: "flinkStreaming"
      restUrl: ${FLINK_REST_URL}
    }
    modelConfig: {
      classPath: [
        "model/defaultModel.jar", "components/flink/flinkBase.jar", "components/flink-table/",
        "model/flinkExecutor.jar", "flink-dropwizard-metrics-deps/", "components/flink/extra/"
      ]
      executionMode: "batch"
      components.flinkTable {
        catalogConfiguration {
          "type": "iceberg",
          "catalog-impl": "org.apache.iceberg.nessie.NessieCatalog"
          "io-impl": "org.apache.iceberg.aws.s3.S3FileIO"
          "uri": "http://nessie:19120/api/v2"
          "warehouse": "s3://warehouse"
          "s3.endpoint": "http://minio:9000"
        }
      }
    }
    category: "Default"
  }
}
